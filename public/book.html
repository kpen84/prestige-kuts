<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link type="text/css" rel="stylesheet" href="../main.css" />
        <title>Prestige Kuts</title>
    </head>
    <body>
        <form id="bookingForm">
            <input type="text" class="barber" placeholder="Barber" required />
            <input type="text" class="customer" placeholder="Your Name" required />
            <input type="text" class="apptype" placeholder="Appointment Type" required />
            <input type="email" class="email" placeholder="Your Email" required />
            <input type="datetime-local" id="date" required />
            <button type="submit">Book Appointment</button>
        </form>

        <script>
            document.getElementById('bookingForm').addEventListener('submit', function (event) {
                event.preventDefault();

                const barber = document.querySelector('.barber').value;
                const customer = document.querySelector('.customer').value;
                const apptype = document.querySelector('.apptype').value;
                const email = document.querySelector('.email').value;
                const date = document.getElementById('date').value;

                const data = {
                    barber,
                    customer,
                    apptype,
                    email,
                    date,
                };

                // Send the data to the server using POST method
                fetch('/api/post', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                })
                    .then((response) => response.json())
                    .then((responseData) => {
                        console.log(responseData);
                        // Handle the response from the server
                    })
                    .catch((error) => {
                        console.error(error);
                        // Handle any errors
                    });
            });
        </script>
    </body>

    <script type="text/javascript" src="../src/index.js"></script>
</html>
